<script setup lang="ts">
import { Error } from '@/components/Error'
import { usePermissionStore } from '@/store/modules/permission'
// import { useUserStore } from '@/store/modules/user'
import { useRouter } from 'vue-router'

const { push } = useRouter()

const permissionStore = usePermissionStore()
// const userStore = useUserStore()
const errorClick = () => {
  //  å½“è°ƒè¯•å‡ºé”™æ—¶ /:path(.*)*  åŒ¹é…ä¸åˆ°ä»»ä½•è·¯ç”± æ— æ³•è·³è½¬  é‡æ–°ç™»å½•
  // console.log(
  //   'ðŸš€ ~ xzz: errorClick -> permissionStore.getRouters?.length',
  //   permissionStore.getRouters
  // )
  // if (permissionStore.getRouters?.length === 0) {
  //   //  æ¸…é™¤localstorage
  //   userStore.reset()
  //   //  è·³è½¬åˆ°ç™»å½•é¡µ
  //   push('/')
  // }
  push(permissionStore.addRouters[0]?.path as string)
}
</script>

<template>
  <Error @error-click="errorClick" />
</template>
